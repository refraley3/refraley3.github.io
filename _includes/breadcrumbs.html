{% assign segs = page.url | split:"/" | reject:"" %}
<nav class="breadcrumbs" aria-label="Breadcrumb">
  <ol>
    <li><a href="{{ "/" | relative_url }}">Home</a></li>

    {% capture path %}{% endcapture %}
    {% for s in segs %}
      {% if s == "index.html" %}
        {% continue %}
      {% endif %}

      {% assign path = path | append:"/" | append:s %}

      {%- comment -%} Build an href that works for folder-style pages {%- endcomment -%}
      {% if s contains ".html" %}
        {% assign href = path %}
      {% else %}
        {% assign href = path | append:"/" %}
      {% endif %}

      {% assign label = s | replace:"-"," " | replace:".html","" | capitalize %}

      {% if forloop.last %}
        <li aria-current="page"><span>{{ label }}</span></li>
      {% else %}
        <li><a href="{{ href | relative_url }}">{{ label }}</a></li>
      {% endif %}
    {% endfor %}
  </ol>
</nav>
